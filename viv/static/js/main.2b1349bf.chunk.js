(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(26)},20:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(12),r=a.n(i),o=(a(20),a(3)),c=a(4),l=a(7),m=a(5),u=a(6),d=a(1),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).changeRow=a.changeRow.bind(Object(d.a)(Object(d.a)(a))),a.changeColumn=a.changeColumn.bind(Object(d.a)(Object(d.a)(a))),a.changeMine=a.changeMine.bind(Object(d.a)(Object(d.a)(a))),a.changeTimer=a.changeTimer.bind(Object(d.a)(Object(d.a)(a))),a.minMines=a.minMines.bind(Object(d.a)(Object(d.a)(a))),a.maxMines=a.maxMines.bind(Object(d.a)(Object(d.a)(a))),a.randomMines=a.randomMines.bind(Object(d.a)(Object(d.a)(a))),a.setupBoard=a.setupBoard.bind(Object(d.a)(Object(d.a)(a))),a.validSetup=a.validSetup.bind(Object(d.a)(Object(d.a)(a))),a.setGameData=a.setGameData.bind(Object(d.a)(Object(d.a)(a))),a.startGame=a.startGame.bind(Object(d.a)(Object(d.a)(a))),a.state={rows:9,columns:9,mines:10,timer:200},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"initCell",value:function(){return{opened:!1,mine:!1,flag:!1,number:0}}},{key:"changeRow",value:function(e){!e||!e.target||isNaN(e.target.value)&&""!==e.target.value||this.setState({rows:e.target.value})}},{key:"changeColumn",value:function(e){!e||!e.target||isNaN(e.target.value)&&""!==e.target.value||this.setState({columns:e.target.value})}},{key:"changeMine",value:function(e){!e||!e.target||isNaN(e.target.value)&&""!==e.target.value||this.setState({mines:e.target.value})}},{key:"changeTimer",value:function(e){!e||!e.target||isNaN(e.target.value)&&""!==e.target.value||this.setState({timer:e.target.value})}},{key:"minMines",value:function(){return Math.max(10*Math.round(.1*this.state.rows*this.state.columns/10),5)}},{key:"maxMines",value:function(){return 10*Math.round(.8*this.state.rows*this.state.columns/10)}},{key:"randomMines",value:function(){for(var e=[],t=this.state.rows*this.state.columns;e.length<this.state.mines;){var a=Math.floor(Math.random()*t);-1===e.indexOf(a)&&e.push(a)}return e.sort()}},{key:"setupBoard",value:function(){for(var e={},t=this.randomMines(),a=0;a<this.state.rows;a++){e[a]={};for(var n=0;n<this.state.columns;n++){var s=t.indexOf(a*this.state.columns+n)>-1;e[a][n]=Object.assign({},this.initCell(),{mine:s})}}return e}},{key:"validSetup",value:function(){return!(this.state.rows<5||this.state.rows>30)&&(!(this.state.columns<5||this.state.columns>30)&&(!(this.state.mines<this.minMines()||this.state.mines>this.maxMines())&&!(this.state.timer<10||this.state.timer>999)))}},{key:"setGameData",value:function(){return{rows:parseInt(this.state.rows,10),columns:parseInt(this.state.columns,10),mines:parseInt(this.state.mines,10),timer:parseInt(this.state.timer,10),board:this.setupBoard()}}},{key:"startGame",value:function(){this.validSetup()&&this.props.setupGame(this.setGameData())}},{key:"render",value:function(){return s.a.createElement("div",{className:"game-option"},s.a.createElement("div",{className:"title"},"Game Option"),s.a.createElement("div",{className:"options"},s.a.createElement("div",{className:"option"},s.a.createElement("div",{className:"caption"},"Number of Cells per Row",s.a.createElement("div",{className:"helptext"},"(5 - 30)")),s.a.createElement("input",{type:"text",className:"input",onChange:this.changeRow,value:this.state.rows}),s.a.createElement("br",{clear:"all"})),s.a.createElement("div",{className:"option"},s.a.createElement("div",{className:"caption"},"Number of Cells per Column",s.a.createElement("div",{className:"helptext"},"(5 - 30)")),s.a.createElement("input",{type:"text",className:"input",onChange:this.changeColumn,value:this.state.columns}),s.a.createElement("br",{clear:"all"})),s.a.createElement("div",{className:"option"},s.a.createElement("div",{className:"caption"},"Number of Mines",s.a.createElement("div",{className:"helptext"},"(",this.minMines()," - ",this.maxMines(),")")),s.a.createElement("input",{type:"text",className:"input",onChange:this.changeMine,value:this.state.mines}),s.a.createElement("br",{clear:"all"})),s.a.createElement("div",{className:"option"},s.a.createElement("div",{className:"caption"},"Time Limit (seconds)",s.a.createElement("div",{className:"helptext"},"(10 - 999)")),s.a.createElement("input",{type:"text",className:"input",onChange:this.changeTimer,value:this.state.timer}),s.a.createElement("br",{clear:"all"}))),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"submit-button",disabled:!this.validSetup(),onClick:this.startGame},"Start Game")))}}]),t}(n.Component),p=a(9),v=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(m.a)(t).call(this,e));for(var n=e.digits||1,s=[],i=0;i<n;i++)s.push(i);return a.data={lengths:s},a.state={max:Math.pow(10,n),digits:n,value:e.value,values:a.getValues(e.value)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"digit",value:function(e){var t={a:[0,2,3,5,6,7,8,9],b:[0,4,5,6,8,9],c:[0,1,2,3,4,7,8,9],d:[2,3,4,5,6,8,9],e:[0,2,6,8],f:[0,1,3,4,5,6,7,8,9],g:[0,2,3,5,6,8,9]},a=(e||{value:0}).value;return s.a.createElement("div",{className:"digit"},s.a.createElement("div",{className:"stroke horizontal digit-a"+(t.a.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke vertical digit-b"+(t.b.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke vertical digit-c"+(t.c.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke horizontal digit-d"+(t.d.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke vertical digit-e"+(t.e.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke vertical digit-f"+(t.f.indexOf(a)>-1?" on":"")}),s.a.createElement("div",{className:"stroke horizontal digit-g"+(t.g.indexOf(a)>-1?" on":"")}))}},{key:"getValues",value:function(e){for(var t=[];e>=10;)t.push(e%10),e=Math.floor(e/10);return t.push(e),t}},{key:"componentDidUpdate",value:function(){var e=this.props.value;if(!isNaN(e)&&e!==this.state.value&&e<this.state.max&&e>=0){var t=this.getValues(e);this.setState({value:e,values:t})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"digital"},this.data.lengths.map(function(t){return s.a.createElement(e.digit,{value:e.state.values[t],key:t})}))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={digits:3},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"game-status"},s.a.createElement("div",{className:"timer"},s.a.createElement(v,{digits:this.state.digits,value:this.props.mines})),s.a.createElement("div",{className:"flagged"},s.a.createElement(v,{digits:this.state.digits,value:this.props.timer})))}}]),t}(n.Component),g=a(13),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).content=a.content.bind(Object(d.a)(Object(d.a)(a))),a.openedMine=a.openedMine.bind(Object(d.a)(Object(d.a)(a))),a.openedEmpty=a.openedEmpty.bind(Object(d.a)(Object(d.a)(a))),a.updateFlagged=a.updateFlagged.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a.onContextMenu=a.onContextMenu.bind(Object(d.a)(Object(d.a)(a))),a.state={row:e.row,column:e.column,opened:e.opened||!1,flag:e.flag||!1,exploded:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){!t.opened&&this.state.opened?this.props.mine?this.openedMine():this.openedEmpty():!e.opened&&this.props.opened&&this.onClick()}},{key:"content",value:function(){var e=this.props,t=e.mode,a=e.mine,n=e.number;return this.state.opened?!!(a||n>0)&&(a?s.a.createElement("div",{className:"mine"}):s.a.createElement("div",{className:"number number"+n},n)):"lost"===t&&a?s.a.createElement("div",{className:"mine"}):!!this.state.flag&&s.a.createElement("div",{className:"flag"},s.a.createElement(g.a,{icon:"flag"}))}},{key:"openedMine",value:function(){this.setState({exploded:!0}),this.props.explodedMine(this.state.row,this.state.column)}},{key:"openedEmpty",value:function(){this.props.openedEmpty(this.state.row,this.state.column)}},{key:"updateFlagged",value:function(e){this.props.updateFlagged(e)}},{key:"onClick",value:function(){var e=this.props.mode,t=this.state,a=t.opened,n=t.flag;"started"!==e||a||n||this.setState({opened:!0})}},{key:"onContextMenu",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.mode,a=this.state,n=a.opened,s=a.flag;"started"!==t||n||(this.setState({flag:!s}),this.updateFlagged(!s))}},{key:"render",value:function(){var e=this.state,t=e.opened,a=e.exploded;return s.a.createElement("div",{className:"cell"+(t?" opened"+(a?" exploded":""):""),onClick:this.onClick,onContextMenu:this.onContextMenu},s.a.createElement(this.content,null))}}]),t}(n.Component),O=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).lostGame=a.lostGame.bind(Object(d.a)(Object(d.a)(a))),a.updateCell=a.updateCell.bind(Object(d.a)(Object(d.a)(a))),a.decreaseTimer=a.decreaseTimer.bind(Object(d.a)(Object(d.a)(a))),a.openedEmpty=a.openedEmpty.bind(Object(d.a)(Object(d.a)(a))),a.updateFlagged=a.updateFlagged.bind(Object(d.a)(Object(d.a)(a))),a.data={rows:[],columns:[]};for(var n=0;n<e.gameData.rows;n++)a.data.rows.push(n);for(var s=0;s<e.gameData.columns;s++)a.data.columns.push(s);return a.state={gameData:a.fillNumber(e.gameData),startTimer:!1,timer:e.gameData.timer||999,opened:0,mines:e.gameData.mines},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getAllRows",value:function(){for(var e=[],t=0;t<this.props.gameData.rows;t++)e.push(t);return e}},{key:"getAllColumns",value:function(){for(var e=[],t=0;t<this.props.gameData.columns;t++)e.push(t);return e}},{key:"getRelatedRows",value:function(e){for(var t=[],a=e-1;a<=e+1;a++)a>-1&&a<this.props.gameData.rows&&t.push(a);return t}},{key:"getRelatedColumns",value:function(e){for(var t=[],a=e-1;a<=e+1;a++)a>-1&&a<this.props.gameData.columns&&t.push(a);return t}},{key:"calculateNumber",value:function(e,t,a){var n=this.getRelatedRows(t),s=this.getRelatedColumns(a),i=0;return n.map(function(t){return s.map(function(a){return e.board[t][a].mine&&i++,!0})}),i}},{key:"fillNumber",value:function(e){var t=this,a=Object.assign({},e),n=this.getAllRows(),s=this.getAllColumns();return n.map(function(e){return s.map(function(n){return a.board[e][n].number=t.calculateNumber(a,e,n),!0}),!0}),a}},{key:"lostGame",value:function(){this.props.changeMode("lost")}},{key:"updateCell",value:function(e,t,a){var n=this.state.gameData;this.setState({gameData:Object.assign({},n,{board:Object.assign({},n.board,Object(p.a)({},e,Object.assign({},n.board[e],Object(p.a)({},t,Object.assign({},n.board[e][t],a)))))})})}},{key:"decreaseTimer",value:function(){var e=this;"started"===this.props.mode&&this.state.startTimer&&(this.state.timer<=1&&this.lostGame(),this.setState({timer:this.state.timer-1},function(){setTimeout(e.decreaseTimer,1e3)}))}},{key:"openedEmpty",value:function(e,t){var a=this.state.gameData,n=this,s=a.board[e][t].number;if(this.state.opened+a.mines+1>=a.rows*a.columns)this.props.changeMode("won");else if(this.setState({opened:this.state.opened+1}),this.state.startTimer||(this.setState({startTimer:!0}),setTimeout(n.decreaseTimer,1e3)),0===s){var i=this.getRelatedRows(e),r=this.getRelatedColumns(t);i.map(function(e){return r.map(function(t){return a.board[e][t].opened||setTimeout(function(){return n.updateCell(e,t,{opened:!0})},0),!0}),!0})}}},{key:"updateFlagged",value:function(e){var t=this.state.mines,a=e?1:-1;this.setState({mines:t-a})}},{key:"render",value:function(){var e=this,t=this.props.mode,a=this.state.gameData;return s.a.createElement("div",{className:"game-board"},s.a.createElement(b,{timer:this.state.timer,mines:this.state.mines}),this.data.rows.map(function(n){return s.a.createElement("div",{className:"row",key:"row"+n},e.data.columns.map(function(i){return s.a.createElement(f,Object.assign({},a.board[n][i],{explodedMine:e.lostGame,openedEmpty:e.openedEmpty,updateFlagged:e.updateFlagged,mode:t,row:n,column:i,key:"cell"+n*a.rows+i}))}),s.a.createElement("br",{clear:"all"}))}))}}]),t}(n.Component),j=(a(24),a(8)),E=a(14);j.b.add(E.a);var N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).setupGame=a.setupGame.bind(Object(d.a)(Object(d.a)(a))),a.changeMode=a.changeMode.bind(Object(d.a)(Object(d.a)(a))),a.startNewGame=a.startNewGame.bind(Object(d.a)(Object(d.a)(a))),a.header=a.header.bind(Object(d.a)(Object(d.a)(a))),a.content=a.content.bind(Object(d.a)(Object(d.a)(a))),a.footer=a.footer.bind(Object(d.a)(Object(d.a)(a))),a.state={mode:"new",gameData:{}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"setupGame",value:function(e){this.setState({mode:"started",gameData:e})}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"startNewGame",value:function(){"started"===this.state.mode?window.confirm("Are you sure you want to start a new game?")&&this.changeMode("new"):this.changeMode("new")}},{key:"header",value:function(){switch(this.state.mode){case"won":return s.a.createElement("div",{className:"message"},s.a.createElement("h2",{className:"won"},"Congratulations!"),s.a.createElement("h3",null,"You won!"));case"lost":return s.a.createElement("div",{className:"message"},s.a.createElement("h2",{className:"lost"},"Oh Nooooooo!"),s.a.createElement("h3",null,"You lost!"));default:return s.a.createElement("div",{className:"message"},s.a.createElement("h1",{className:"game"},"Welcome to Mine Sweeper"),s.a.createElement("h3",null,"By Eric Wong - December 18, 2018"))}}},{key:"content",value:function(){var e=this.state.mode;switch(e){case"new":return s.a.createElement(h,{setupGame:this.setupGame});case"started":case"won":case"lost":return s.a.createElement(O,{mode:e,gameData:this.state.gameData,changeMode:this.changeMode});default:return!1}}},{key:"footer",value:function(){return"new"!==this.state.mode&&s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"submit-button",onClick:this.startNewGame},"Start another Game"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"header"},s.a.createElement(this.header,null)),s.a.createElement("div",{className:"content"},s.a.createElement(this.content,null)),s.a.createElement("div",{className:"footer"},s.a.createElement(this.footer,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.2b1349bf.chunk.js.map